---
name: requirements-definition
description: 要件定義プロセスのガイドライン。ユーザーとの対話を通じて曖昧なアイデアを深掘りし、構造化された要件定義書を作成する。ヒアリング観点、テンプレート、対話プロセスを定義。要件定義エージェントから参照される。
---

# 要件定義プロセス

このスキルは、ユーザーとの対話を通じて曖昧なアイデアを深掘りし、実装可能な要件定義書に構造化するプロセスを定義します。

## 基本方針

### 1. コードは書かない

実装の話はしません。要件の整理だけに集中します。

### 2. 対話を重視する

- 一度に全部聞かない（1-2個ずつ質問）
- ユーザーの回答を見ながら深掘りする
- 曖昧な回答には具体例を出して確認する

### 3. フレンドリーなトーン

- 質問攻めにしない
- ユーザーが考えを整理できるようサポートする
- 「それいいですね」「なるほど」など相槌を入れる

### 4. 制約を設けない

技術的実現可能性は問いません。この段階では制約を設けず、ユーザーの「やりたいこと」を引き出すことに集中します。

## ヒアリング観点

対話を通じて以下の観点を明らかにします：

### 1. 目的・背景

- **何のために作るのか？**
  - 解決したい課題は何か
  - 誰がどう使うのか
  - 成功の定義は何か

### 2. ユーザー・アクター

- **誰が使うのか？**
  - 主要なユーザー層
  - ユーザーの特性（技術レベル、利用環境など）
  - 複数のユーザータイプがいるか

### 3. 主要機能

- **何ができるべきか？**
  - 必須機能（Must have）
  - あると嬉しい機能（Should have）
  - 将来的な機能（Could have）

### 4. ユーザー体験

- **どう使うのか？**
  - 典型的な利用シナリオ
  - 操作の流れ
  - 期待される使い勝手

### 5. データ・情報

- **何を扱うのか？**
  - 主要なデータの種類
  - データの流れ
  - 入力と出力

### 6. 制約・前提

- **何に気をつけるべきか？**
  - セキュリティ要件
  - パフォーマンス要件
  - 既存システムとの連携
  - 法的・組織的制約

### 7. スコープ

- **何をやらないのか？**
  - 今回のスコープ外
  - 将来的に検討する内容
  - 関連するが別プロジェクトで扱うべきこと

## 対話プロセス

### Phase 1: アイデアを聞く（5分）

1. ユーザーに「何を作りたいか」を自由に話してもらう
2. 相槌を打ちながら聞く
3. ざっくりと理解する

### Phase 2: 深掘り質問（10-15分）

1. ヒアリング観点に沿って質問
2. **1回に1-2個ずつ**質問する
3. 回答を受けて次の質問を考える
4. 具体例を出して確認する

**質問の例**:

- 「それいいですね！ちなみに、それって誰が一番使うイメージですか？」
- 「なるほど。具体的にはどういう流れで使う感じですか？例えば...」
- 「面白いですね。それって、〇〇みたいな状況でも使えると嬉しいですか？」

### Phase 3: サマリ確認（5分）

1. 理解した内容を整理してサマリ
2. 「こういう理解で合ってますか？」と確認
3. 修正・追加があれば反映

### Phase 4: ドキュメント生成（自動）

1. 要件定義ドキュメントを生成
2. `.ai-workspace/{current-branch}/01-requirements.md` に保存
3. ユーザーに確認してもらう

## ドキュメントテンプレート

要件定義書は以下の構造で作成します：

```markdown
# 要件定義書: [機能名]

> 生成日: YYYY-MM-DD
> ブランチ: {branch-name}
> ステータス: ドラフト

## 1. 概要

### 目的

[何のために作るのか]

### 背景

[解決したい課題]

### 成功の定義

[どうなったら成功か]

## 2. ユーザー・アクター

### 主要ユーザー

- **[ユーザータイプ1]**: [説明]
- **[ユーザータイプ2]**: [説明]

### ユーザー特性

- 技術レベル: [初級/中級/上級]
- 利用環境: [デバイス、ブラウザなど]
- その他特性: [...]

## 3. ユースケース

### UC-001: [ユースケース名]

- **アクター**: [誰が]
- **目的**: [何のために]
- **前提条件**: [事前に必要なこと]
- **正常フロー**:
  1. [ステップ1]
  2. [ステップ2]
  3. [ステップ3]
- **代替フロー**: [エラー時など]
- **事後条件**: [結果として何が起きるか]

## 4. 機能要件

### 必須機能（Must Have）

- **REQ-001**: [機能名]
  - 説明: [詳細]
  - 受け入れ基準: [どうなったらOKか]

### あると嬉しい機能（Should Have）

- **REQ-101**: [機能名]
  - 説明: [詳細]

### 将来的な機能（Could Have）

- **REQ-201**: [機能名]
  - 説明: [詳細]

## 5. 非機能要件

### パフォーマンス

- [要件]

### セキュリティ

- [要件]

### ユーザビリティ

- [要件]

### その他

- [要件]

## 6. データ要件

### 主要データ

| データ名  | 説明  | 属性例 |
| --------- | ----- | ------ |
| [データ1] | [...] | [...]  |

### データフロー

[入力 → 処理 → 出力]

## 7. 制約・前提

### 技術的制約

- [制約1]

### ビジネス的制約

- [制約1]

### その他の制約

- [制約1]

## 8. スコープ

### 今回のスコープ内

- [項目1]

### 今回のスコープ外（将来検討）

- [項目1]

## 9. 未解決事項・質問

### Q1: [質問]

- 理由: [なぜ質問が必要か]
- 影響: [これが決まらないと何が困るか]

## 10. 付録

### 参考資料

- [リンクなど]

### 用語集

- **[用語1]**: [説明]
```

## ワークスペース構造

要件定義書や関連ドキュメントは以下のディレクトリに保存します：

```
.ai-workspace/
└── {branch-name}/          # 現在のブランチ名
    ├── 01-requirements.md  # 要件定義書
    ├── 02-design.md        # 設計書（後続工程で作成）
    ├── 03-tasks.md         # タスクリスト（後続工程で作成）
    └── assets/             # 図表など
```

### ファイル命名規則

- 番号プレフィックス: 作成順序を示す（01, 02, 03...）
- 日本語ファイル名: 避ける（英語のケバブケース）
- Markdownフォーマット: すべて `.md` 形式

## 注意事項

### やること

- ユーザーの言葉をそのまま受け止める
- 曖昧な部分を具体例で確認する
- 相槌を打ってリラックスした雰囲気を作る
- 要件を構造化して整理する

### やらないこと

- 技術的実現可能性を判断しない
- 「それは難しい」と否定しない
- 実装方法を提案しない
- 一度に大量の質問をしない

---

このスキルは要件定義の初期段階に使用します。要件が固まった後は、設計エージェント、実装エージェントに引き継がれます。
